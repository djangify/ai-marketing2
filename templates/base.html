<!-- templates/base.html -->
{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="AI Marketing Platform - Save time by posting content with AI."
    />
    <meta
      name="keywords"
      content="AI Marketing, AI, Marketing Platform, AI Tools, Content Creation"
    />
    <meta name="author" content="AI Marketing Platform" />

    <!-- Open Graph / Social Media Meta Tags -->
    {% comment %} <meta property="fb:app_id" content="1196335268692565" />  {% endcomment %}
    <meta property="og:title" content="AI Marketing Platform" />
    <meta
      property="og:description"
      content="AI Marketing Platform - Save time by posting content with AI."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ request.build_absolute_uri }}" />
    <meta property="og:image" content="{% static 'images/amp-trans.jpg' %}" />
    
    <!-- Favicon -->
    <link
      rel="icon"
      href="{% static 'images/favicon.ico' %}"
      type="image/x-icon"
    />
    <title>AI Marketing Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
    <link href="{% static 'css/output.css' %}" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10" integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC" crossorigin="anonymous"></script>
    <!-- In base.html just before the closing </head> tag -->
    <!-- TinyMCE CDN with your API key -->
    <script src="https://cdn.tiny.cloud/1/un8zow1xkkig1b5u22a9c87leiaqptdawjb1glbheshusyz1/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <script>
  document.addEventListener("DOMContentLoaded", function() {
    tinymce.init({
      selector: 'textarea.tinymce',  // This will apply to any textarea with class="tinymce"
      height: 560,
      width: '100%',
      menubar: 'file edit view insert format tools table help',
      plugins: 'preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons',
      toolbar: 'undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen preview save print | insertfile image media template link anchor codesample | ltr rtl',
      toolbar_sticky: true,
      image_advtab: true,
      importcss_append: true,
      browser_spellcheck: true,
      relative_urls: false,
      remove_script_host: false,
      convert_urls: true,
      file_picker_callback: function (callback, value, meta) {
        // Custom file picker implementation if needed
      },
    });
  });
</script>
    {% block extra_meta %}{% endblock %}
  </head>
  <body class="flex flex-col min-h-screen bg-white dark:bg-gray-900 transition-all duration-300"><body class="flex flex-col min-h-screen">
   
    {% include 'includes/messages.html' %} 
    
    {% if user.is_authenticated %}
      {% if '/blog/' in request.path or '/policy/policies/' in request.path or '/quick_start/' in request.path %}
        {% include 'includes/logged_in_public_header.html' %}
      {% else %}
        {% include 'includes/navbar.html' %}
      {% endif %}
    {% else %}
      {% include 'includes/navbar.html' %}
    {% endif %}
    
    <main class="flex-grow bg-white dark:bg-gray-900">
      {% block content %}{% endblock %}
    </main>
    
    <!-- Footer -->
    <footer role="contentinfo" class="mt-auto">{% include 'includes/footer.html' %}</footer>

    <!-- Scripts -->
  
     <!-- Flowbite CSS and JS -->
     <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />
     <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
     <!-- dark and light mode  -->
     <script>
      const themeToggleBtn = document.getElementById('theme-toggle');
      const darkIcon = document.getElementById('theme-toggle-dark-icon');
      const lightIcon = document.getElementById('theme-toggle-light-icon');
    
      // On page load
      if (localStorage.getItem('color-theme') === 'dark' || 
          (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
        darkIcon.classList.remove('hidden');
      } else {
        document.documentElement.classList.remove('dark');
        lightIcon.classList.remove('hidden');
      }
    
      themeToggleBtn.addEventListener('click', function () {
        darkIcon.classList.toggle('hidden');
        lightIcon.classList.toggle('hidden');
    
        // Add a quick rotation effect
        darkIcon.classList.toggle('rotate-180');
        lightIcon.classList.toggle('rotate-180');
    
        // Toggle the theme and save
        if (document.documentElement.classList.contains('dark')) {
          document.documentElement.classList.remove('dark');
          localStorage.setItem('color-theme', 'light');
        } else {
          document.documentElement.classList.add('dark');
          localStorage.setItem('color-theme', 'dark');
        }
      });
    </script>
    
    
     {% block extra_js %}{% endblock %}
  </body>
</html>