<!-- templates/includes/tinymce_scripts.html -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
      // Load TinyMCE dynamically
      const script = document.createElement('script');
      script.src = 'https://cdn.tiny.cloud/1/un8zow1xkkig1b5u22a9c87leiaqptdawjb1glbheshusyz1/tinymce/6/tinymce.min.js';
      script.referrerpolicy = 'origin';
      script.onload = function() {
          tinymce.init({
              selector: 'textarea.tinymce',
              height: 560,
              width: '100%',
              menubar: 'file edit view insert format tools table help',
              plugins: 'preview importcss searchreplace autolink autosave save directionality code visualblocks visualchars fullscreen image link media template codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help charmap quickbars emoticons',
              toolbar: 'undo redo | bold italic underline strikethrough | fontfamily fontsize blocks | alignleft aligncenter alignright alignjustify | outdent indent | numlist bullist | forecolor backcolor removeformat | pagebreak | charmap emoticons | fullscreen preview save print | insertfile image media template link anchor codesample | ltr rtl',
              toolbar_sticky: true,
              image_advtab: true,
              importcss_append: true,
              browser_spellcheck: true,
              relative_urls: false,
              remove_script_host: false,
              convert_urls: true,
              file_picker_callback: function (callback, value, meta) {
                  // Custom file picker implementation if needed
              },
          });
      };
      document.body.appendChild(script);
  });
  </script>